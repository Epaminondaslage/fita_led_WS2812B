<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Controle de LEDs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>Controle WS2812B</h1>

    <label for="efeito">Efeito:</label>
    <select id="efeito" onchange="enviar('efeito', this.value)">
      <option value="0">Aleatório</option>
      <option value="1">Cometa</option>
      <option value="2">Piscar</option>
      <option value="3">Arco-Íris</option>
      <option value="4">Apagar</option>
      <option value="5">Branco Frio</option>
      <option value="6">Branco Quente</option>
      <option value="7">Azul</option>
      <option value="8">Verde</option>
      <option value="9">Vermelho</option>
      <option value="10">Arco-Íris Rotativo</option>
    </select>

    <label for="brilho">Brilho:</label>
    <input type="range" id="brilho" min="0" max="255" value="100" oninput="enviar('brilho', this.value)">

    <label for="vel">Velocidade:</label>
    <input type="range" id="vel" min="1" max="200" value="50" oninput="enviar('vel', this.value)">
  </div>

  <script>
    const ws = new WebSocket(`ws://${location.hostname}:81`);
    function enviar(chave, valor) {
      if (ws.readyState === WebSocket.OPEN) {
        ws.send(`${chave}:${valor}`);
      }
    }
  </script>
</body>
</html>